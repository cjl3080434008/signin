var Ne=(S,u)=>()=>(u||S((u={exports:{}}).exports,u),u.exports);import{r as L,c as Re,g as Ee,R as D,u as ce,i as le,j as A,F as G,a as f,A as Pe,b as Te}from"./useMeasure.f1c2f7ca.js";var qe=Ne((Je,X)=>{var me={exports:{}};(function(S,u){(function(v,g){S.exports=g(L.exports)})(Re,function(p){return function(v){var g={};function o(i){if(g[i])return g[i].exports;var d=g[i]={i,l:!1,exports:{}};return v[i].call(d.exports,d,d.exports,o),d.l=!0,d.exports}return o.m=v,o.c=g,o.d=function(i,d,x){o.o(i,d)||Object.defineProperty(i,d,{enumerable:!0,get:x})},o.r=function(i){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,d){if(d&1&&(i=o(i)),d&8||d&4&&typeof i=="object"&&i&&i.__esModule)return i;var x=Object.create(null);if(o.r(x),Object.defineProperty(x,"default",{enumerable:!0,value:i}),d&2&&typeof i!="string")for(var j in i)o.d(x,j,function(I){return i[I]}.bind(null,j));return x},o.n=function(i){var d=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(d,"a",d),d},o.o=function(i,d){return Object.prototype.hasOwnProperty.call(i,d)},o.p="",o(o.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(v,g,o){o.r(g);var i=o("react"),d=function(){var k=function(a,r){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var c in s)s.hasOwnProperty(c)&&(n[c]=s[c])},k(a,r)};return function(a,r){k(a,r);function n(){this.constructor=a}a.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),x=function(){return x=Object.assign||function(k){for(var a,r=1,n=arguments.length;r<n;r++){a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(k[s]=a[s])}return k},x.apply(this,arguments)},j=function(k,a){var r={};for(var n in k)Object.prototype.hasOwnProperty.call(k,n)&&a.indexOf(n)<0&&(r[n]=k[n]);if(k!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(k);s<n.length;s++)a.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(k,n[s])&&(r[n[s]]=k[n[s]]);return r};(function(){typeof window!="undefined"&&(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(a){var r=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return r?new Promise(function(n,s){r.call(navigator,a,n,s)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function I(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var F=function(k){d(a,k);function a(r){var n=k.call(this,r)||this;return n.canvas=null,n.ctx=null,n.requestUserMediaId=0,n.unmounted=!1,n.state={hasUserMedia:!1},n}return a.prototype.componentDidMount=function(){var r=this,n=r.state,s=r.props;if(this.unmounted=!1,!I()){s.onUserMediaError("getUserMedia not supported");return}n.hasUserMedia||this.requestUserMedia(),s.children&&typeof s.children!="function"&&console.warn("children must be a function")},a.prototype.componentDidUpdate=function(r){var n=this.props;if(!I()){n.onUserMediaError("getUserMedia not supported");return}var s=JSON.stringify(r.audioConstraints)!==JSON.stringify(n.audioConstraints),c=JSON.stringify(r.videoConstraints)!==JSON.stringify(n.videoConstraints),R=r.minScreenshotWidth!==n.minScreenshotWidth,l=r.minScreenshotHeight!==n.minScreenshotHeight;(c||R||l)&&(this.canvas=null,this.ctx=null),(s||c)&&(this.stopAndCleanup(),this.requestUserMedia())},a.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},a.stopMediaStream=function(r){r&&(r.getVideoTracks&&r.getAudioTracks?(r.getVideoTracks().map(function(n){r.removeTrack(n),n.stop()}),r.getAudioTracks().map(function(n){r.removeTrack(n),n.stop()})):r.stop())},a.prototype.stopAndCleanup=function(){var r=this.state;r.hasUserMedia&&(a.stopMediaStream(this.stream),r.src&&window.URL.revokeObjectURL(r.src))},a.prototype.getScreenshot=function(r){var n=this,s=n.state,c=n.props;if(!s.hasUserMedia)return null;var R=this.getCanvas(r);return R&&R.toDataURL(c.screenshotFormat,c.screenshotQuality)},a.prototype.getCanvas=function(r){var n=this,s=n.state,c=n.props;if(!this.video||!s.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var R=this.video.videoWidth,l=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var m=R/l;R=c.minScreenshotWidth||this.video.clientWidth,l=R/m,c.minScreenshotHeight&&l<c.minScreenshotHeight&&(l=c.minScreenshotHeight,R=l*m)}this.canvas=document.createElement("canvas"),this.canvas.width=(r==null?void 0:r.width)||R,this.canvas.height=(r==null?void 0:r.height)||l,this.ctx=this.canvas.getContext("2d")}var U=this,h=U.ctx,b=U.canvas;return h&&b&&(c.mirrored&&(h.translate(b.width,0),h.scale(-1,1)),h.imageSmoothingEnabled=c.imageSmoothing,h.drawImage(this.video,0,0,(r==null?void 0:r.width)||b.width,(r==null?void 0:r.height)||b.height),c.mirrored&&(h.scale(-1,1),h.translate(-b.width,0))),b},a.prototype.requestUserMedia=function(){var r=this,n=this.props,s=function(l,m){var U={video:typeof m!="undefined"?m:!0};n.audio&&(U.audio=typeof l!="undefined"?l:!0),r.requestUserMediaId++;var h=r.requestUserMediaId;navigator.mediaDevices.getUserMedia(U).then(function(b){r.unmounted||h!==r.requestUserMediaId?a.stopMediaStream(b):r.handleUserMedia(null,b)}).catch(function(b){r.handleUserMedia(b)})};if("mediaDevices"in navigator)s(n.audioConstraints,n.videoConstraints);else{var c=function(l){return{optional:[{sourceId:l}]}},R=function(l){var m=l.deviceId;return typeof m=="string"?m:Array.isArray(m)&&m.length>0?m[0]:typeof m=="object"&&m.ideal?m.ideal:null};MediaStreamTrack.getSources(function(l){var m=null,U=null;l.forEach(function(W){W.kind==="audio"?m=W.id:W.kind==="video"&&(U=W.id)});var h=R(n.audioConstraints);h&&(m=h);var b=R(n.videoConstraints);b&&(U=b),s(c(m),c(U))})}},a.prototype.handleUserMedia=function(r,n){var s=this.props;if(r||!n){this.setState({hasUserMedia:!1}),s.onUserMediaError(r);return}this.stream=n;try{this.video&&(this.video.srcObject=n),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(n)})}s.onUserMedia(n)},a.prototype.render=function(){var r=this,n=this,s=n.state,c=n.props,R=c.audio;c.forceScreenshotSourceSize,c.onUserMedia,c.onUserMediaError,c.screenshotFormat,c.screenshotQuality,c.minScreenshotWidth,c.minScreenshotHeight,c.audioConstraints,c.videoConstraints,c.imageSmoothing;var l=c.mirrored,m=c.style,U=m===void 0?{}:m,h=c.children,b=j(c,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),W=l?x(x({},U),{transform:(U.transform||"")+" scaleX(-1)"}):U,J={getScreenshot:this.getScreenshot.bind(this)};return i.createElement(i.Fragment,null,i.createElement("video",x({autoPlay:!0,src:s.src,muted:!R,playsInline:!0,ref:function(P){r.video=P},style:W},b)),h&&h(J))},a.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},a}(i.Component);g.default=F},react:function(v,g){v.exports=p}}).default})})(me);var ue=Ee(me.exports),X={};(function S(u,p,v,g){var o=!!(u.Worker&&u.Blob&&u.Promise&&u.OffscreenCanvas&&u.OffscreenCanvasRenderingContext2D&&u.HTMLCanvasElement&&u.HTMLCanvasElement.prototype.transferControlToOffscreen&&u.URL&&u.URL.createObjectURL);function i(){}function d(t){var e=p.exports.Promise,M=e!==void 0?e:u.Promise;return typeof M=="function"?new M(t):(t(i,i),null)}var x=function(){var t=Math.floor(16.666666666666668),e,M,y={},O=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(C){var w=Math.random();return y[w]=requestAnimationFrame(function N(T){O===T||O+t-1<T?(O=T,delete y[w],C()):y[w]=requestAnimationFrame(N)}),w},M=function(C){y[C]&&cancelAnimationFrame(y[C])}):(e=function(C){return setTimeout(C,t)},M=function(C){return clearTimeout(C)}),{frame:e,cancel:M}}(),j=function(){var t,e,M={};function y(O){function C(w,N){O.postMessage({options:w||{},callback:N})}O.init=function(N){var T=N.transferControlToOffscreen();O.postMessage({canvas:T},[T])},O.fire=function(N,T,$){if(e)return C(N,null),e;var _=Math.random().toString(36).slice(2);return e=d(function(q){function z(E){E.data.callback===_&&(delete M[_],O.removeEventListener("message",z),e=null,$(),q())}O.addEventListener("message",z),C(N,_),M[_]=z.bind(null,{data:{callback:_}})}),e},O.reset=function(){O.postMessage({reset:!0});for(var N in M)M[N](),delete M[N]}}return function(){if(t)return t;if(!v&&o){var O=["var CONFETTI, SIZE = {}, module = {};","("+S.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{t=new Worker(URL.createObjectURL(new Blob([O])))}catch(C){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",C),null}y(t)}return t}}(),I={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function F(t,e){return e?e(t):t}function k(t){return t!=null}function a(t,e,M){return F(t&&k(t[e])?t[e]:I[e],M)}function r(t){return t<0?0:Math.floor(t)}function n(t,e){return Math.floor(Math.random()*(e-t))+t}function s(t){return parseInt(t,16)}function c(t){return t.map(R)}function R(t){var e=String(t).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:s(e.substring(0,2)),g:s(e.substring(2,4)),b:s(e.substring(4,6))}}function l(t){var e=a(t,"origin",Object);return e.x=a(e,"x",Number),e.y=a(e,"y",Number),e}function m(t){t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight}function U(t){var e=t.getBoundingClientRect();t.width=e.width,t.height=e.height}function h(t){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=t,e}function b(t,e,M,y,O,C,w,N,T){t.save(),t.translate(e,M),t.rotate(C),t.scale(y,O),t.arc(0,0,1,w,N,T),t.restore()}function W(t){var e=t.angle*(Math.PI/180),M=t.spread*(Math.PI/180);return{x:t.x,y:t.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:t.startVelocity*.5+Math.random()*t.startVelocity,angle2D:-e+(.5*M-Math.random()*M),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:t.color,shape:t.shape,tick:0,totalTicks:t.ticks,decay:t.decay,drift:t.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:t.gravity*3,ovalScalar:.6,scalar:t.scalar}}function J(t,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.wobble+=e.wobbleSpeed,e.velocity*=e.decay,e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble);var M=e.tick++/e.totalTicks,y=e.x+e.random*e.tiltCos,O=e.y+e.random*e.tiltSin,C=e.wobbleX+e.random*e.tiltCos,w=e.wobbleY+e.random*e.tiltSin;return t.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-M)+")",t.beginPath(),e.shape==="circle"?t.ellipse?t.ellipse(e.x,e.y,Math.abs(C-y)*e.ovalScalar,Math.abs(w-O)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):b(t,e.x,e.y,Math.abs(C-y)*e.ovalScalar,Math.abs(w-O)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):(t.moveTo(Math.floor(e.x),Math.floor(e.y)),t.lineTo(Math.floor(e.wobbleX),Math.floor(O)),t.lineTo(Math.floor(C),Math.floor(w)),t.lineTo(Math.floor(y),Math.floor(e.wobbleY))),t.closePath(),t.fill(),e.tick<e.totalTicks}function P(t,e,M,y,O){var C=e.slice(),w=t.getContext("2d"),N,T,$=d(function(_){function q(){N=T=null,w.clearRect(0,0,y.width,y.height),O(),_()}function z(){v&&!(y.width===g.width&&y.height===g.height)&&(y.width=t.width=g.width,y.height=t.height=g.height),!y.width&&!y.height&&(M(t),y.width=t.width,y.height=t.height),w.clearRect(0,0,y.width,y.height),C=C.filter(function(E){return J(w,E)}),C.length?N=x.frame(z):q()}N=x.frame(z),T=q});return{addFettis:function(_){return C=C.concat(_),$},canvas:t,promise:$,reset:function(){N&&x.cancel(N),T&&T()}}}function H(t,e){var M=!t,y=!!a(e||{},"resize"),O=a(e,"disableForReducedMotion",Boolean),C=o&&!!a(e||{},"useWorker"),w=C?j():null,N=M?m:U,T=t&&w?!!t.__confetti_initialized:!1,$=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,_;function q(E,ee,te){for(var V=a(E,"particleCount",r),Y=a(E,"angle",Number),Z=a(E,"spread",Number),B=a(E,"startVelocity",Number),xe=a(E,"decay",Number),Me=a(E,"gravity",Number),Se=a(E,"drift",Number),ae=a(E,"colors",c),Ce=a(E,"ticks",Number),ie=a(E,"shapes"),ke=a(E,"scalar"),oe=l(E),se=V,re=[],Ue=t.width*oe.x,Oe=t.height*oe.y;se--;)re.push(W({x:Ue,y:Oe,angle:Y,spread:Z,startVelocity:B,color:ae[se%ae.length],shape:ie[n(0,ie.length)],ticks:Ce,decay:xe,gravity:Me,drift:Se,scalar:ke}));return _?_.addFettis(re):(_=P(t,re,N,ee,te),_.promise)}function z(E){var ee=O||a(E,"disableForReducedMotion",Boolean),te=a(E,"zIndex",Number);if(ee&&$)return d(function(B){B()});M&&_?t=_.canvas:M&&!t&&(t=h(te),document.body.appendChild(t)),y&&!T&&N(t);var V={width:t.width,height:t.height};w&&!T&&w.init(t),T=!0,w&&(t.__confetti_initialized=!0);function Y(){if(w){var B={getBoundingClientRect:function(){if(!M)return t.getBoundingClientRect()}};N(B),w.postMessage({resize:{width:B.width,height:B.height}});return}V.width=V.height=null}function Z(){_=null,y&&u.removeEventListener("resize",Y),M&&t&&(document.body.removeChild(t),t=null,T=!1)}return y&&u.addEventListener("resize",Y,!1),w?w.fire(E,V,Z):q(E,V,Z)}return z.reset=function(){w&&w.reset(),_&&_.reset()},z}var K;function ne(){return K||(K=H(null,{useWorker:!0,resize:!0})),K}p.exports=function(){return ne().apply(this,arguments)},p.exports.reset=function(){ne().reset()},p.exports.create=H})(function(){return typeof window!="undefined"?window:typeof self!="undefined"?self:this||{}}(),X,!1);var de=X.exports;X.exports.create;function Q(){return Q=Object.assign||function(S){for(var u=1;u<arguments.length;u++){var p=arguments[u];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(S[v]=p[v])}return S},Q.apply(this,arguments)}function _e(S,u){if(S==null)return{};var p={},v=Object.keys(S),g,o;for(o=0;o<v.length;o++)g=v[o],!(u.indexOf(g)>=0)&&(p[g]=S[g]);return p}function je(S){L.exports.useEffect(S,[])}function Ie(S,u){u===void 0&&(u={});var p=u,v=p.volume,g=v===void 0?1:v,o=p.playbackRate,i=o===void 0?1:o,d=p.soundEnabled,x=d===void 0?!0:d,j=p.interrupt,I=j===void 0?!1:j,F=p.onload,k=_e(p,["id","volume","playbackRate","soundEnabled","interrupt","onload"]),a=D.useRef(null),r=D.useRef(!1),n=D.useState(null),s=n[0],c=n[1],R=D.useState(null),l=R[0],m=R[1],U=function(){typeof F=="function"&&F.call(this),r.current&&c(this.duration()*1e3),m(this)};je(function(){return import("./howler.c42387b3.js").then(function(P){return P.h}).then(function(P){if(!r.current){var H;a.current=(H=P.Howl)!==null&&H!==void 0?H:P.default.Howl,r.current=!0,new a.current(Q({src:Array.isArray(S)?S:[S],volume:g,rate:i,onload:U},k))}}),function(){r.current=!1}}),D.useEffect(function(){a.current&&l&&m(new a.current(Q({src:Array.isArray(S)?S:[S],volume:g,onload:U},k)))},[JSON.stringify(S)]),D.useEffect(function(){l&&(l.volume(g),l.rate(i))},[g,i]);var h=D.useCallback(function(P){typeof P=="undefined"&&(P={}),!(!l||!x&&!P.forceSoundEnabled)&&(I&&l.stop(),P.playbackRate&&l.rate(P.playbackRate),l.play(P.id))},[l,x,I]),b=D.useCallback(function(P){!l||l.stop(P)},[l]),W=D.useCallback(function(P){!l||l.pause(P)},[l]),J=[h,{sound:l,stop:b,pause:W,duration:s}];return J}var Fe="/assets/cheer.edd66a72.mp3",pe="/assets/pic-tl.6cfc85ae.svg",ve="/assets/pic-tr.00db4771.svg",Ae="/assets/pic-bl.49e26862.svg",be="/assets/pic-br.cabd1206.svg",he="/assets/frame.4c0b7093.svg",Le="/assets/title.270303a9.svg",We="/assets/title-m.cbbbe27a.svg",ye="/assets/dot-bl.e3f5e76e.svg",we="/assets/dot-tr.cd13e70b.svg",fe="/assets/loading.f7b1362b.svg";const De=()=>A(G,{children:[f("img",{className:"block absolute left-0 top-0 bg-no-repeat bg-left-top origin-top-left scale-75 xl:scale-90 2xl:scale-100",src:pe,style:{width:"164px",height:"164px"}}),f("img",{className:"block absolute right-0 top-0 bg-no-repeat bg-right-top origin-top-right scale-75 xl:scale-90 2xl:scale-100",src:we,style:{width:"259px",height:"259px"}}),f("img",{className:"block absolute right-[90px] top-[110px] bg-no-repeat bg-right-top origin-top-right scale-75 xl:scale-90 2xl:scale-100",src:ve,style:{width:"147px",height:"147px"}}),f("img",{className:"block absolute left-0 bottom-0 bg-no-repeat bg-left-bottom origin-bottom-left scale-75 xl:scale-90 2xl:scale-100",src:ye,style:{width:"259px",height:"259px"}}),f("img",{className:"block absolute left-[140px] bottom-[50px] bg-no-repeat bg-left-bottom origin-bottom-left scale-75 xl:scale-90 2xl:scale-100",src:Ae,style:{width:"112px",height:"112px"}}),f("img",{className:"block absolute right-0 bottom-0 bg-no-repeat bg-right-bottom origin-bottom-right scale-75 xl:scale-90 2xl:scale-100",src:be,style:{width:"164px",height:"164px"}})]}),ze=()=>A(G,{children:[f("img",{className:"block absolute right-0 top-0 transform bg-no-repeat bg-right-top origin-top-right scale-[0.4]",src:we,style:{width:"259px",height:"259px"}}),f("img",{className:"block absolute left-0 bottom-0 bg-no-repeat bg-left-bottom origin-bottom-left  scale-[0.5]",src:ye,style:{width:"259px",height:"259px"}}),f("img",{className:"block absolute bottom-[42px] left-0 bg-no-repeat bg-left-top origin-left scale-[0.42]",src:pe,style:{width:"164px",height:"164px"}}),f("img",{className:"block absolute right-0 bottom-0 bg-no-repeat bg-right-bottom origin-bottom-right scale-[0.42]",src:be,style:{width:"164px",height:"164px"}}),f("img",{className:"block absolute bottom-[30px] left-[50%] bg-no-repeat bg-top",src:ve,style:{width:"147px",height:"147px",transform:"translateX(-50%) scale(0.6)"}})]}),ge=()=>{const u=Date.now()+1e4,p={startVelocity:30,spread:360,ticks:60,zIndex:0};function v(o,i){return Math.random()*(i-o)+o}const g=setInterval(function(){const o=u-Date.now();if(o<=0)return clearInterval(g);const i=50*(o/1e4);de(Object.assign({},p,{particleCount:i,origin:{x:v(.1,.3),y:Math.random()-.2}})),de(Object.assign({},p,{particleCount:i,origin:{x:v(.7,.9),y:Math.random()-.2}}))},250)},Be=async(S,u,p)=>{const v=document.getElementById("wcrop"),g=v.getContext("2d");var o=new Image;return o.src=S,new Promise(i=>{o.onload=()=>{const d=o.naturalHeight,x=o.naturalWidth;g==null||g.drawImage(o,0,-.2*(d/x*u),u,d/x*u),i(v.toDataURL("image/jpeg",1))}})},He=()=>{const[S]=Ie(Fe),[u,{width:p,height:v}]=ce(),[g,{width:o,height:i}]=ce(),d=L.exports.useRef(null),x=L.exports.useRef(null),[j,I]=L.exports.useState("unfinished"),F=L.exports.useRef(!1),[k,a]=L.exports.useState("cam"),[r,n]=L.exports.useState(""),[s,c]=L.exports.useState("PingCAPer"),R=L.exports.useCallback(async()=>{var m;if(d.current&&!F.current){const U=d.current.getScreenshot();n(U),a("image"),I("checking"),F.current=!0;try{const h=await((m=le.exports.getAuthClient())==null?void 0:m.getCurrentUser());c((h==null?void 0:h.name)||"PingCAPer"),await fetch("https://7th.pingcap.net",{method:"POST",body:JSON.stringify({photo:U,name:(h==null?void 0:h.name)||"Unknown"}),headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer "+(h==null?void 0:h.token)})}),S(),ge(),I("finished")}catch(h){console.error(h),I("unfinished")}finally{F.current=!1}}},[d]),l=L.exports.useCallback(async()=>{var m;if(x.current&&!F.current){const U=x.current.getScreenshot();n(U),a("image"),I("checking"),F.current=!0;try{const h=await Be(U,o,i),b=await((m=le.exports.getAuthClient())==null?void 0:m.getCurrentUser());c((b==null?void 0:b.name)||"PingCAPer"),await fetch("https://7th.pingcap.net",{method:"POST",body:JSON.stringify({photo:h,name:(b==null?void 0:b.name)||"Unknown"}),headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer "+(b==null?void 0:b.token)})}),S(),ge(),I("finished")}catch(h){console.error(h),I("unfinished")}finally{F.current=!1}}},[x,o,i]);return A(G,{children:[A("div",{className:"h-full w-full min-h-[640px] relative hidden lg:flex",children:[f(De,{}),f("div",{className:"absolute inset-0 z-[100] flex items-center justify-center",children:A("div",{className:"w-full flex justify-evenly pr-28 pl-20",children:[f("div",{className:"bg-no-repeat bg-left origin-center scale-75 xl:scale-90 2xl:scale-100",style:{backgroundImage:`url(${Le})`,width:"367px",height:"481px"}}),A("div",{className:"flex flex-col items-center",children:[f("div",{className:"bg-no-repeat bg-right relative flex origin-center scale-75 xl:scale-90 2xl:scale-100",style:{backgroundImage:`url(${he})`,width:"700px",height:"474px",padding:"5.7143% 6.2857% 5.4286% 6.4286%"},children:f("div",{className:"flex-grow w-full bg-white overflow-hidden",ref:u,children:p&&v?k==="cam"?f(ue,{ref:d,minScreenshotWidth:p,minScreenshotHeight:v,style:{width:p,height:v},screenshotFormat:"image/jpeg",videoConstraints:{height:v,width:p}}):f("img",{src:r,className:"block"}):f(G,{})})}),A("button",{className:`flex items-center mt-10 px-8 h-10 rounded-3xl transform bg-white text-vi-base text-lg font-semibold outline-none border-none cursor-pointer shadow-btn-white transition-all ${j==="checking"?"cursor-wait":j==="finished"?"shadow-none text-white bg-transparent tracking-widest":"hover:shadow-btn-white-hover active:scale-90"}`,onClick:R,children:[j==="checking"&&f("div",{className:"bg-no-repeat h-5 w-5 mr-4 animate-spin",style:{backgroundImage:`url(${fe})`}}),j==="finished"?`\u{1F389}  Welcome, ${s}  \u{1F389}`:"Check In"]})]})]})})]}),A("div",{className:"h-full w-full min-h-screen relative lg:hidden",children:[f(ze,{}),A("div",{className:"absolute inset-0 z-[100] flex flex-col items-center px-6 py-12",children:[f("img",{src:We,className:"block mb-8"}),A("div",{className:"relative",children:[f("img",{src:he,className:"block"}),f("div",{className:"absolute inset-0 flex flex-col",style:{padding:"5.7143% 6.2857% 5.4286% 6.4286%"},children:f("div",{className:"flex-grow w-full bg-white overflow-hidden",ref:g,children:o&&i?A(G,{children:[f("canvas",{id:"wcrop",className:"absolute pointer-events-none opacity-50",width:o,height:i}),k==="cam"?f(ue,{ref:x,minScreenshotWidth:o,minScreenshotHeight:i,style:{minWidth:"100%",transform:"translateY(-20%)"},screenshotFormat:"image/jpeg",forceScreenshotSourceSize:!0}):f("img",{src:r,className:"block",style:{transform:"translateY(-20%)"}})]}):f(G,{})})})]}),A("button",{className:`flex items-center mt-12 px-8 h-10 rounded-3xl transform bg-white text-vi-base text-lg font-semibold outline-none border-none cursor-pointer shadow-btn-white transition-all ${j==="checking"?"cursor-wait":j==="finished"?"shadow-none text-white bg-transparent tracking-widest":"hover:shadow-btn-white-hover active:scale-90"}`,onClick:l,children:[j==="checking"&&f("div",{className:"bg-no-repeat h-5 w-5 mr-4 animate-spin",style:{backgroundImage:`url(${fe})`}}),j==="finished"?`\u{1F389}  Welcome, ${s}  \u{1F389}`:"Check In"]})]})]})]})},$e=()=>f("div",{className:"h-full bg-vi-base lg:min-w-[1280px]",children:f(Pe,{children:f(He,{})})});Te.render(f(D.StrictMode,{children:f($e,{})}),document.getElementById("root"))});export default qe();
