<html>
  <head>
    <meta charset="UTF-8">
    <script src="https://cdn.jsdelivr.net/npm/@authing/native-js-ui-components"></script>
    <link href="https://cdn.jsdelivr.net/npm/@authing/native-js-ui-components/lib/index.min.css" rel="stylesheet"></link>
  </head>
  <body>
    <script>
      var guard = new AuthingNativeJsUIComponents.AuthingGuard('APPID', {
        apiHost: 'https://pingcap.authing.cn',
        mode: 'modal',
      })      guard.on("load", (authClient) => {
        authClient.getCurrentUser().then(function(uInfo) {
          if (uInfo && uInfo.token) {
            location.href = '/signin'
            return
          }
        }).catch(function(e) {
          // ignore
        })
      });

      guard.on("login", (user) => {
        location.href = '/signin'
      });
    </script>
  </body>
</html>